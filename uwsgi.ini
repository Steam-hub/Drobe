[uwsgi]
# Django-related settings
chdir = /app
module = Drobe.wsgi:application
home = /usr/local

# Process-related settings
master = true
processes = 4
threads = 2
enable-threads = true

# Socket settings
socket = :8000
chmod-socket = 666
vacuum = true

# Performance settings
max-requests = 5000
max-worker-lifetime = 3600
reload-on-rss = 512
worker-reload-mercy = 60

# Logging
disable-logging = false
log-4xx = true
log-5xx = true

# Buffer settings
buffer-size = 32768
post-buffering = 8192

# Static files (handled by nginx in production)
static-map = /static=/app/staticfiles
static-map = /media=/app/media

# Graceful shutdown
die-on-term = true
need-app = true

# Security
uid = appuser
gid = appuser
